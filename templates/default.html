{% extends "layout.html" %}

{% block content %}
<article class="page">
    <header class="page-header">
        <h1 class="page-title">{{ page.metadata.title }}</h1>
        
        {% if page.metadata.date %}
        <div class="page-meta">
            <time datetime="{{ page.metadata.date }}">
                {{ page.metadata.date | date('F j, Y') }}
            </time>
            
            {% if page.metadata.readingTime %}
            <span class="reading-time">{{ page.metadata.readingTime }} min read</span>
            {% endif %}
        </div>
        {% endif %}
    </header>

    <div class="page-content">
        {{ page.content | safe }}
    </div>

    {% if page.metadata.headings and page.metadata.headings.length > 1 %}
    <aside class="table-of-contents">
        <h3>Table of Contents</h3>
        <ul>
        {% for heading in page.metadata.headings %}
            <li class="toc-level-{{ heading.level }}">
                <a href="#{{ heading.slug }}">{{ heading.text }}</a>
            </li>
        {% endfor %}
        </ul>
    </aside>
    {% endif %}
</article>
{% endblock %}